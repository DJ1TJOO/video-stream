<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Videos</title>
    <script src="https://kit.fontawesome.com/9e67d94725.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/info/style.css">
    <script src="/jquery.fittext.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark">
        <a class="navbar-brand" href="/">Watch</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/movies">Movies</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/series">Series</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/collections">Collections</a>
                </li>
            </ul>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/logout">Logout</a>
                </li>
            </ul>
        </div>
    </nav>
    <img id="left" src="/21.jpg">
    <div id="right">
        <p id="title" class="title">Pokemone the one adfadsf</p>
        <p id="description">Ash's adventure begins when a powerful storm beaches him and his friends on Shamouti Island just as the islanders are preparing to cast the hero role in their annual festival. They offer it to Ash. It sounds like fun, so he accepts. The festival
            enacts an ancient legend about three great and powerful Pok√©mon birds, Moltres, Zapdos and Articuno, who maintain nature's balance on the earth by ruling the elements of fire, lightning and ice.</p>
        <a id="watch" class="btn cyan">Watch</a>
    </div>
    <div class="row">
        <script>
            var id = window.location.href.substring(window.location.href.lastIndexOf('/') + 1);
            $.getJSON("/videos/info/" + id, function(dataJson) {
                var data = JSON.parse(dataJson);
                console.log(data);
                var left = document.getElementById('left');
                left.src = "/" + data.title + ".jpg";
                var right = document.getElementById('right');

                var watch = document.getElementById('watch');
                watch.href = "/watch/" + id;
                var title = document.getElementById('title');
                title.innerText = data.title;
                var description = document.getElementById('description');
                description.innerText = data.description;

                //console.log(left.clientWidth + " " + screen.width);

                setTimeout(() => {
                    if (screen.width > 768) {
                        right.style.width = "calc(100vw - 20px - " + left.clientWidth + "px)";
                    } else {
                        right.style.width = "";
                    }
                    window.addEventListener("resize", () => {
                        if (screen.width > 768) {
                            right.style.width = "calc(100vw - 20px - " + left.clientWidth + "px)";
                        } else {
                            right.style.width = "";
                        }
                    });
                }, 100);
            });
        </script>
    </div>
    </div>
</body>

</html>